# ブラウザのみで動画エンコードを実現するWebアプリ企画書

## 1. プロジェクト概要
- **タイトル**：ブラウザのみで動画エンコードを実現するWebアプリ
- **目的**：サーバーサイド処理を最小限にし、ブラウザ単体で動画エンコードをどこまで実現できるか検証する。
- **背景**：課題要件としてPHP / MySQL / MVCを使用する必要があるため、掲示板機能でDB要件を満たしつつ、趣味の動画エンコードをテーマに選定。

## 2. 使用環境
- **クライアント**：Windows PC（最新ブラウザ：Chrome推奨）
- **サーバー**：自前サーバー（PHP + MySQL）

## 3. 機能一覧
### Tier1（必須）
- 動画アップロード（情報表示＋サムネイル生成）
- プリセット選択（HQ / Standard / Low Size / Mobile / Ultra Compact）
- カスタム設定（解像度・ビットレート・コーデック）
- プレビュー生成（短いクリップ）
- エンコード実行（WebCodecs API）
- ダウンロード機能
- 掲示板投稿（エンコード設定JSON＋コメント）

### Tier2（余裕があれば）
- 掲示板でパラメータ比較・投票機能

## 4. 技術構成
- **フロントエンド**：
  - Svelte（UI）
  - WebCodecs API（動画エンコード）
  - MP4Box.js（MP4 Mux）
  - jswebm（WebM Mux）
  - Service Worker（オフライン時は掲示板無効化）
- **サーバーサイド**：
  - PHP（MVC構成）
  - MySQL（掲示板データ管理）

## 5. UIデザイン方針
- **OneUI風デザイン**：
  - カード型UI（角丸＋影）
  - モバイルライクな余白と大きめボタン
  - ライトテーマ＋柔らかい配色
- **掲示板オフライン時**：
  - 「接続できません」メッセージ表示
  - 掲示板全体をグレーアウト

## 6. ワークフロー
1. 動画アップロード → メタ情報表示
2. プリセット選択 or カスタム設定
3. プレビュー生成
4. エンコード実行 → ダウンロード
5. 掲示板投稿（JSON＋コメント）
6. 掲示板表示（最新順・人気順）

## 7. 制約と課題
- WebCodecsはChrome系ブラウザ推奨（Firefox/Safariは未対応機能あり）
- ハードウェアアクセラレーションは環境依存
- AV1エンコードは処理が重い
