# Server-less Video Optimizer (v3.0)

**〜AIが自己修復する、サーバーレス動画変換の実験場〜**

## 1. 企画概要

本プロジェクトは、サーバーサイド処理を一切行わず、ブラウザ（クライアントサイド）のリソースのみで動画エンコード・解析・最適化を行う実験的Webアプリケーションである。

v3.0では、**Gemini Nano (Built-in AI)** を中心とした「AIによるパラメータ制御」に加え、AI自身がエラーを解決する **「Self-Healing（自己修復）」** プロセスをエンターテインメントとして昇華。さらに展示会での体験を持ち帰る **「The Souvenir（お土産）」** 機能を実装する。

## 2. ターゲット & コンセプト

* **一般ユーザー:** 「詳しくないけど、AIにお任せで動画が軽くなった！」という魔法のような体験。
* **ギーク/開発者:** 「ブラウザだけでここまで動くのか」「AIが勝手にデバッグしてる」という技術的驚き。

## 3. コア体験 (UX)

### Phase 1: シームレス・エントリー

* 初期画面はファイル選択と「AIにお任せ」ボタンのみの極限シンプルUI。
* 裏側ではAIが映像を解析し、最適なプリセットを自動適用する。

### Phase 2: Geek Mode & Self-Healing (Wow要素)

* **Geek Switch:** スイッチONで画面が拡張。ダッシュボードとコンソールが出現。
* **Adaptive AI:** 高性能AI（Cloud/Local LLM）使用時は、あえて複雑なFFmpegコマンド生成に挑戦。
* **Self-Healing (実況解説):** AI生成コマンドがエラーになった際、AIがログを読み、「修正案」を思考し、再実行するプロセスをハッカー映画のようにコンソールに流す。

### Phase 3: The Souvenir (持ち帰れる体験)

* **QRコード生成:** 成功した「神設定（FFmpegコマンド）」をQRコード化。
* **Colab Notebook連携:** 「もっと高画質にやりたい」ユーザー向けに、現在の設定値を埋め込んだPython Notebookを自動生成。
* **Litterbox共有:** Notebookをファイル共有サービス(Litterbox)へAPI経由でアップロードし、そのURLをQRコードで提供。自宅のPCで続きを楽しめる。

## 4. 技術スタック (v3.0 Updated)

* **Frontend:** HTML5, WebCodecs, ffmpeg.wasm, PWA
* **AI Layer:**
  * Tier 1: window.ai (Gemini Nano) - 高速・オフライン
  * Tier 2: WebLLM (Local WebGPU) - 代替ローカル
  * Tier 3: Gemini API (Cloud) - 高性能フォールバック
* **External API:** Litterbox API (ファイル一時共有用)
* **Dev Infra:** Tailscale (HTTPS/MagicDNS)
